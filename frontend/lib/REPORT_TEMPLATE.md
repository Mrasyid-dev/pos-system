# Report Export Template Documentation

## Overview

Sistem export report POS System mendukung template yang bisa dicustom dengan berbagai opsi. Template ini memungkinkan Anda untuk menyesuaikan format, konten, dan tampilan report sesuai kebutuhan.

## Format Export

### 1. CSV Format
Format CSV (Comma-Separated Values) cocok untuk:
- Import ke Excel/Google Sheets
- Analisis data dengan spreadsheet
- Sharing data yang mudah dibaca

**Template CSV Structure:**
```
[Company Name]
[Custom Header]
[Report Title]
Period: [From Date] to [To Date]
Generated: [Timestamp]

SALES BY DATE
Date,Transactions,Revenue
2025-12-09,1,$66.00
...

TOTAL,[Total Transactions],[Total Revenue]

TOP PRODUCTS
Product Name,SKU,Quantity Sold,Revenue
"Product 1",SKU001,10,$500.00
...

TOTAL,,[Total Qty],[Total Revenue]

[Custom Footer]
Report generated by POS System
```

### 2. JSON Format
Format JSON cocok untuk:
- Integrasi dengan sistem lain
- Processing dengan script/program
- API responses

**Template JSON Structure:**
```json
{
  "metadata": {
    "companyName": "POS System",
    "reportType": "combined",
    "period": {
      "from": "2025-11-09",
      "to": "2025-12-09"
    },
    "generatedAt": "2025-12-09T10:30:00.000Z",
    "customHeader": "Internal Use Only"
  },
  "sales": {
    "data": [
      {
        "date": "2025-12-09",
        "transactions": 1,
        "revenue": 66.00
      }
    ],
    "summary": {
      "totalTransactions": 1,
      "totalRevenue": 66.00
    }
  },
  "topProducts": {
    "data": [
      {
        "productId": 1,
        "productName": "Product 1",
        "sku": "SKU001",
        "quantitySold": 10,
        "revenue": 500.00
      }
    ],
    "summary": {
      "totalQuantitySold": 10,
      "totalRevenue": 500.00
    }
  },
  "footer": {
    "customFooter": "Confidential",
    "generatedBy": "POS System"
  }
}
```

## Customization Options

### 1. Report Type
- **Sales Report Only**: Hanya data penjualan per tanggal
- **Top Products Only**: Hanya data produk terlaris
- **Combined Report**: Gabungan sales dan top products

### 2. Company Name
Customize nama perusahaan yang muncul di header report.

**Contoh:**
```
My Store POS System
```

### 3. Custom Header
Tambahkan teks custom di bagian atas report.

**Contoh:**
```
Internal Use Only
Confidential - Management Review
Monthly Sales Analysis
```

### 4. Custom Footer
Tambahkan teks custom di bagian bawah report.

**Contoh:**
```
This report is confidential and intended for authorized personnel only.
For questions, contact: finance@company.com
```

### 5. Include/Exclude Sections
- **Include Header**: Toggle untuk menampilkan/menyembunyikan header
- **Include Footer**: Toggle untuk menampilkan/menyembunyikan footer

## Usage Examples

### Example 1: Simple CSV Export
```typescript
const options: ExportOptions = {
  format: 'csv',
  reportType: 'combined',
  includeHeader: true,
  includeFooter: true,
}
exportReport(sales, topProducts, options, from, to)
```

### Example 2: Customized Report
```typescript
const options: ExportOptions = {
  format: 'csv',
  reportType: 'sales',
  companyName: 'ABC Store',
  customHeader: 'Monthly Sales Report - Internal Use Only',
  customFooter: 'Generated for Management Review',
  includeHeader: true,
  includeFooter: true,
}
exportReport(sales, topProducts, options, from, to)
```

### Example 3: JSON Export for Integration
```typescript
const options: ExportOptions = {
  format: 'json',
  reportType: 'combined',
  companyName: 'My POS System',
  includeHeader: true,
  includeFooter: false,
}
exportReport(sales, topProducts, options, from, to)
```

## Template Customization Guide

### Modifying CSV Template
File: `pos-system/frontend/lib/reportExport.ts`

Fungsi `exportToCSV()` dapat dimodifikasi untuk:
- Mengubah urutan kolom
- Menambahkan kolom baru
- Mengubah format tanggal/number
- Menambahkan section baru

### Modifying JSON Template
File: `pos-system/frontend/lib/reportExport.ts`

Fungsi `exportToJSON()` dapat dimodifikasi untuk:
- Mengubah struktur object
- Menambahkan field baru
- Mengubah format data

## Advanced Customization

### Adding New Export Format
1. Tambahkan type baru di `ExportFormat`:
```typescript
export type ExportFormat = 'csv' | 'json' | 'pdf' | 'xlsx'
```

2. Buat fungsi export baru:
```typescript
export function exportToPDF(...) { ... }
```

3. Update fungsi `exportReport()`:
```typescript
if (options.format === 'pdf') {
  exportToPDF(...)
}
```

### Adding New Report Sections
1. Tambahkan data baru ke interface
2. Update fungsi export untuk include section baru
3. Update UI untuk menampilkan opsi baru

## Best Practices

1. **Company Name**: Gunakan nama yang konsisten untuk branding
2. **Custom Header**: Gunakan untuk disclaimer atau informasi penting
3. **Custom Footer**: Gunakan untuk contact info atau legal notice
4. **Format Selection**: 
   - CSV untuk human-readable reports
   - JSON untuk system integration
5. **Report Type**: Pilih sesuai kebutuhan:
   - Sales only untuk analisis penjualan
   - Top Products untuk analisis produk
   - Combined untuk overview lengkap

## Troubleshooting

### CSV tidak terbuka di Excel
- Pastikan encoding UTF-8
- Check untuk special characters di data
- Pastikan format number sudah benar

### JSON tidak valid
- Pastikan semua data sudah di-parse dengan benar
- Check untuk null/undefined values
- Validate JSON structure

### File terlalu besar
- Filter data berdasarkan date range yang lebih spesifik
- Export per section (sales atau products saja)
- Consider pagination untuk data besar

